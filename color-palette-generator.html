<!DOCTYPE html>
<html lang="en" class="palette-page">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Palette Generator</title>
  <link rel="stylesheet" href="./src/styles.css">
  <style>
    /* ------- layout ------- */
    body {display:flex; flex-direction:column; min-height:100dvh;}

    /* Remove blue/ink tap highlights on mobile across interactive elements */
    :root, body, button, a, .lock-btn, #generateBtn, .color-col, .container {
      -webkit-tap-highlight-color: transparent;
    }

    /* Show outlines only for keyboard users; remove default focus rings otherwise */
    button:focus, .lock-btn:focus { outline: none; }

    /* Neutral text-selection (grayscale, no saturated colors) */
    ::selection { background: rgba(0,0,0,.18); color: inherit; }
    ::-moz-selection { background: rgba(0,0,0,.18); color: inherit; }

    /* container now stretches fully between header & footer */
    .container{flex:1 1 auto; display:flex; flex-direction:column; padding:0; gap:0; min-height:0; position:relative; align-items:stretch; max-width:100vw;}
    .controls{position:absolute; top:0.9rem; left:50%; transform:translateX(-50%); z-index:3; display:flex; flex-direction:column; align-items:center; justify-content:flex-start; gap:.85rem; padding:0; pointer-events:none;}
    .kbd-hint{color:#666; font-size:.85rem; user-select:none; pointer-events:none; opacity:.85; letter-spacing:.02em; line-height:1.2;}
    .color-columns{flex:1 1 auto; display:flex; min-height:0; min-width:0; flex-direction: row; width:100%;}
    .color-col   {flex:1; position:relative; cursor:copy; min-width:0;}

    /* Hide keyboard/copy hint when embedded in an iframe */
    .palette-page.embedded .kbd-hint { display: none; }
    /* Hide keyboard hint on touch devices (mobile/tablet) */
    @media (hover: none), (pointer: coarse) {
      .palette-page .kbd-hint { display: none; }
    }

    /* ------- ensure palette colors are immune to dark mode/forced adjustments ------- */
    .palette-page .color-columns,
    .palette-page .color-col,
    .palette-page .color-col * {
      color-scheme: light;          /* donâ€™t auto-adjust UI colors */
      forced-color-adjust: none;    /* prevent UA forced color modes */
      mix-blend-mode: normal;       /* no blending tricks */
      background-blend-mode: normal;
      filter: none;                 /* avoid accidental filters */
    }

    /* ------- info overlay ------- */
    .color-col .info{
      position:absolute; inset:auto 0 clamp(1rem,4vh,2.5rem) 0;
      text-align:center; color:#fff; font-weight:600;
      font-size:clamp(.9rem,2vw,1.1rem); line-height:1.35;
      pointer-events:auto; user-select:none;
      display:flex; flex-direction:column; align-items:center; gap:.55rem;
      padding: 0 .35rem; /* tiny horizontal padding so text doesnâ€™t touch edges */
    }
    /* Desktop: show as Name â†’ Hex â†’ Lock so lock/hex stay anchored near the bottom even when name wraps */
    .color-col .info .name { order: 1; }
    .color-col .info .hex  { order: 2; }
    .color-col .info .lock-btn { order: 3; }
    .color-col .hex{opacity:.95; font-size: clamp(1.1rem, 2.8vw, 1.9rem); line-height: 1.2; font-weight: 800; letter-spacing: .03em;}
    .color-col .name{opacity:.8; font-size: clamp(1rem, 1.8vw, 1.3rem);}

    /* Temporary copied hint (used on mobile) */
    .color-col .copied-hint { font-size: .85rem; opacity: .95; color: inherit; margin-top: .2rem; }

    /* ------- lock button (now inside overlay, above hex) ------- */
    .lock-btn{
      display:inline-flex; align-items:center; justify-content:center;
      width:2.1rem; height:2.1rem; border-radius:999px;
      border:2px solid rgba(255,255,255,.85); background:transparent; color:#fff;
      cursor:pointer; transition:.2s ease; pointer-events:auto;
    }
    .lock-btn:hover{background:rgba(255,255,255,.15)}
    .color-col[data-locked="true"] .lock-btn{background:rgba(255,255,255,.95); color:#000; border-color:transparent}
    .lock-btn:focus-visible{outline:2px solid rgba(255,255,255,.6); outline-offset:2px}

    /* ------- generate button ------- */
    #generateBtn{
      padding:.6em 1.6em; font-size:1rem; cursor:pointer; pointer-events:auto; border-radius:.6rem; transition:background-color .15s ease, transform .05s ease;
      border: 1px solid rgba(0,0,0,.15); background: #f2f2f2; color:#111; box-shadow: 0 2px 6px rgba(0,0,0,.15);
    }
    #generateBtn:hover { background: #ececec; }
    #generateBtn:active { transform: translateY(1px); }
    #generateBtn:focus-visible { outline: 2px solid #000; outline-offset: 2px; }

    /* Desktop theming for Generate button */
    @media (prefers-color-scheme: light) {
      #generateBtn { background: #fff; color: #111; border-color: rgba(0,0,0,.15); box-shadow: 0 2px 6px rgba(0,0,0,.12); }
      #generateBtn:hover { background: #f7f7f7; }
      #generateBtn:focus-visible { outline-color: #000; }
    }
    @media (prefers-color-scheme: dark) {
      #generateBtn { background: rgba(0,0,0,.92); color: #fff; border-color: rgba(255,255,255,.2); box-shadow: 0 6px 16px rgba(0,0,0,.35), 0 1px 0 rgba(255,255,255,.05) inset; }
      #generateBtn:hover { background: rgba(0,0,0,.98); }
      #generateBtn:focus-visible { outline-color: #fff; }
    }

    /* ------- mobile: invert layout (controls bottom, info top) + improved spacing & button style ------- */
    @media (max-width: 700px), (hover: none), (pointer: coarse) {
      .palette-page .controls { top: auto; bottom: calc(clamp(0.75rem, 2.5vh, 1.25rem) + env(safe-area-inset-bottom, 0px)); left: 50%; transform: translateX(-50%); gap: .5rem; }
      .palette-page .kbd-hint { display: none !important; }
      .color-col .info { inset: clamp(0.9rem, 3.5vh, 1.6rem) 0 auto 0; gap: .8rem; }
      /* On mobile, keep original DOM order (Lock â†’ Hex â†’ Name) */
      .color-col .info .name, .color-col .info .hex, .color-col .info .lock-btn { order: initial; }
      /* Mobile: keep hex size, but make it slightly bolder with a touch of letter-spacing if it fits */
      .color-col .hex { font-size: clamp(1rem, 4.2vw, 1.35rem); font-weight: 700; letter-spacing: .02em; }
      /* Revert name size to default on mobile */
      .color-col .name { font-size: inherit; }

      /* Mobile button size/shape; colors themed below */
      #generateBtn{
        font-size: 1.05rem; line-height: 1.1;
        padding: .9rem 1.5rem; border-radius: 9999px; min-height: 44px; min-width: min(80vw, 22rem);
      }
      #generateBtn:active { transform: translateY(1px); }
      #generateBtn:focus-visible { outline-width: 2px; }
    }

    /* Mobile theming: light */
    @media (max-width: 700px) and (prefers-color-scheme: light), (hover: none) and (prefers-color-scheme: light), (pointer: coarse) and (prefers-color-scheme: light) {
      #generateBtn { background: #fff; color: #111; border: 1px solid rgba(0,0,0,.15); box-shadow: 0 2px 8px rgba(0,0,0,.18); }
      #generateBtn:hover { background: #f7f7f7; }
      #generateBtn:focus-visible { outline-color: #000; }
    }
    /* Mobile theming: dark */
    @media (max-width: 700px) and (prefers-color-scheme: dark), (hover: none) and (prefers-color-scheme: dark), (pointer: coarse) and (prefers-color-scheme: dark) {
      #generateBtn { background: rgba(0,0,0,.92); color: #fff; border: 1px solid rgba(255,255,255,.2); box-shadow: 0 6px 16px rgba(0,0,0,.35), 0 1px 0 rgba(255,255,255,.05) inset; }
      #generateBtn:hover { background: rgba(0,0,0,.98); }
      #generateBtn:focus-visible { outline-color: #fff; }
    }
  </style>
</head>
<body>
  <site-header></site-header>

  <div class="container">
    <div class="controls">
      <!-- Note: Enter also triggers generate, but we keep the hint short to avoid clutter. -->
      <div class="kbd-hint">Space to generate â€¢ 1â€“4 to lock</div>
      <button id="generateBtn" class="button" autofocus>Generate</button>
    </div>
    <div class="color-columns">
      <div class="color-col" id="col0" data-index="0" data-locked="false" title="Click to copy hex">
        <div class="info">
          <button class="lock-btn" aria-pressed="false" aria-label="Lock column 1" title="Lock (1)">ðŸ”’</button>
          <div class="hex"></div>
          <div class="name"></div>
        </div>
      </div>
      <div class="color-col" id="col1" data-index="1" data-locked="false" title="Click to copy hex">
        <div class="info">
          <button class="lock-btn" aria-pressed="false" aria-label="Lock column 2" title="Lock (2)">ðŸ”’</button>
          <div class="hex"></div>
          <div class="name"></div>
        </div>
      </div>
      <div class="color-col" id="col2" data-index="2" data-locked="false" title="Click to copy hex">
        <div class="info">
          <button class="lock-btn" aria-pressed="false" aria-label="Lock column 3" title="Lock (3)">ðŸ”’</button>
          <div class="hex"></div>
          <div class="name"></div>
        </div>
      </div>
      <div class="color-col" id="col3" data-index="3" data-locked="false" title="Click to copy hex">
        <div class="info">
          <button class="lock-btn" aria-pressed="false" aria-label="Lock column 4" title="Lock (4)">ðŸ”’</button>
          <div class="hex"></div>
          <div class="name"></div>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="./src/js/components/header.js"></script>
  <script type="module" src="./src/js/pages/color-palette-generator.js"></script>
  <script type="module" src="./src/js/components/footer.js"></script>

  <site-footer></site-footer>
</body>
</html>
